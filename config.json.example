{
  "repositories": {
    "my-backend": {
      "path": "/home/YOUR_USER/src/my-backend",
      "gitlab": "your-org/my-backend",
      "jira_project": "PROJ",
      "jira_component": "My Component",
      "lint_command": "make lint",
      "test_command": "make test",
      "test_setup": "# Setup instructions for local testing\n# 1. Start services: podman-compose up -d\n# 2. Run migrations: make migrate\n# 3. Run tests: make test",
      "default_branch": "main",
      "konflux_namespace": "your-tenant",
      "fastapi_container": "my-backend-api-1",
      "scopes": [
        "api",
        "auth",
        "db"
      ],
      "docs": {
        "enabled": true,
        "path": "docs/",
        "readme": "README.md",
        "api_docs": "docs/api/",
        "architecture": "docs/architecture/",
        "diagrams": ["docs/architecture/*.md", "docs/*.md"],
        "auto_update": true,
        "check_on_mr": true,
        "patterns": {
          "endpoints": "docs/api/endpoints.md",
          "models": "docs/api/models.md",
          "workflows": "docs/workflows/"
        }
      }
    },
    "my-frontend": {
      "path": "/home/YOUR_USER/src/my-frontend",
      "gitlab": "your-org/my-frontend",
      "jira_project": "PROJ",
      "jira_component": "My Component",
      "lint_command": "npm run lint",
      "test_command": "npm test",
      "default_branch": "main",
      "scopes": [
        "ui",
        "components"
      ],
      "docs": {
        "enabled": true,
        "path": "docs/",
        "readme": "README.md",
        "auto_update": false,
        "check_on_mr": true
      }
    },
    "automation-analytics-backend": {
      "path": "/path/to/something",
      "scopes": ["api", "billing", "reports", "ingestion", "auth"],
      "default_branch": "main",
      "fastapi_container": "YOUR_VALUE_HERE",
      "lint_command": "black --check . && flake8 . && yamllint .",
      "test_command": "pytest tests/ -v",
      "jira_project": "AAP",
      "gitlab": "automation-analytics/automation-analytics-backend",
      "jira_component": "Automation Analytics",
      "konflux_namespace": "example-name",
      "test_setup": "# Test Environment Setup for automation-analytics-backend\n# 1. Start the database:\n#    podman-compose up -d postgres redis\n# 2. Set environment variables:\n#    export DATABASE_URL=postgresql://user:pass@localhost:5432/aa\n#    export REDIS_URL=redis://localhost:6379\n# 3. Run migrations:\n#    python manage.py migrate\n# 4. Now you can run tests:\n#    pytest tests/ -v",
      "docs": {
        "enabled": true,
        "path": "docs/",
        "readme": "README.md",
        "api_docs": "docs/api/",
        "architecture": "docs/architecture/",
        "diagrams": ["docs/architecture/*.md", "docs/*.md"],
        "auto_update": true,
        "check_on_mr": true,
        "patterns": {
          "endpoints": "docs/api/endpoints.md",
          "models": "docs/api/models.md",
          "workflows": "docs/workflows/"
        }
      }
    },
    "konflux-release-data": {
      "jira_project": "KONFLUX",
      "gitlab": "releng/konflux-release-data",
      "scopes": [],
      "default_branch": "main",
      "path": "/path/to/something",
      "test_command": "tox -e py311",
      "lint_command": "tox"
    },
    "app-interface": {
      "test_command": "",
      "scopes": [],
      "lint_command": "make bundle validate",
      "path": "/path/to/something",
      "default_branch": "master",
      "gitlab": "service/app-interface",
      "test_setup": "# No local tests - validation is done via 'make bundle validate'",
      "jira_component": "AppSRE",
      "jira_project": "APPSRE"
    },
    "pdf-generator": {
      "scopes": ["pdf", "templates", "api"],
      "jira_project": "AAP",
      "konflux_namespace": "example-name",
      "default_branch": "main",
      "test_command": "npm test",
      "test_setup": "# Test Environment Setup for pdf-generator\n# 1. Install dependencies:\n#    npm install\n# 2. Run tests:\n#    npm test",
      "gitlab": "automation-analytics/pdf-generator",
      "lint_command": "npm run lint",
      "jira_component": "Automation Analytics",
      "path": "/path/to/something",
      "docs": {
        "enabled": true,
        "path": "docs/",
        "readme": "README.md",
        "auto_update": false,
        "check_on_mr": true
      }
    }
  },
  "user": {
    "username": "YOUR_USERNAME",
    "email": "you@example.com",
    "email_aliases": [
      "you@example.com",
      "personal@gmail.com"
    ],
    "full_name": "Your Name",
    "gitlab_username": "YOUR_USERNAME",
    "jira_username": "YOUR_USERNAME",
    "timezone": "Europe/Dublin"
  },
  "commit_format": {
    "pattern": "{issue_key} - {type}({scope}): {description}",
    "types": [
      "feat",
      "fix",
      "refactor",
      "docs",
      "test",
      "chore",
      "style",
      "perf"
    ],
    "examples": [
      "PROJ-12345 - feat(api): Add new endpoint",
      "PROJ-12345 - fix(auth): Handle token expiry"
    ]
  },
  "jira": {
    "url": "https://your-jira-instance.atlassian.net",
    "default_project": "PROJ",
    "cli": "jira",
    "statuses": {
      "done": "Done",
      "pending_release": "Pending Release",
      "new": "New",
      "refinement": "Refinement",
      "in_progress": "In Progress"
    },
    "billing_events": {
      "summary_pattern": "BillingEvent {number:05d} - {description}",
      "search_jql": "project = PROJ AND summary ~ 'BillingEvent' ORDER BY created DESC",
      "labels": [
        "billing",
        "alert",
        "auto-created"
      ],
      "component": "My Component"
    },
    "alert_issues": {
      "summary_pattern": "Alert: {alert_name} - {description}",
      "search_jql": "project = PROJ AND summary ~ 'Alert:' AND labels = 'prometheus-alert' ORDER BY created DESC",
      "labels": [
        "prometheus-alert",
        "auto-created"
      ],
      "component": "My Component"
    }
  },
  "gitlab": {
    "host": "gitlab.com"
  },
  "quay": {
    "api_url": "https://quay.io/api/v1",
    "default_namespace": "your-namespace",
    "repositories": {
      "my-backend": "your-org/my-backend",
      "pdf-generator": "aap-pdf-generator-tenant/pdf-generator-main/pdf-generator-main",
      "automation-analytics": "aap-aa-tenant/aap-aa-main/automation-analytics-backend-main"
    }
  },
  "konflux": {
    "kubeconfig": "/home/YOUR_USER/.kube/config.konflux",
    "cluster": "your-konflux-cluster.example.com"
  },
  "namespaces": {
    "stage": {
      "main": "your-app-stage",
      "kubeconfig": "/home/YOUR_USER/.kube/config.s"
    },
    "production": {
      "main": "your-app-prod",
      "billing": "your-app-prod-billing",
      "kubeconfig": "/home/YOUR_USER/.kube/config.p"
    }
  },
  "app_interface": {
    "repo": "app-interface",
    "path": "/home/YOUR_USER/src/app-interface",
    "deploy_file": "data/services/your-org/your-app/cicd/deploy-clowder.yml",
    "saas_namespaces": "data/services/your-org/your-app/namespaces",
    "namespace_files": {
      "prod_main": "your-app-prod.yml",
      "prod_billing": "your-app-prod-billing.yml",
      "stage": "your-app-stage.yml"
    },
    "alerts": {
      "stage": "resources/your-stage/your-app-stage",
      "prod_main": "resources/your-prod/your-app-prod",
      "prod_billing": "resources/your-prod/your-app-prod-billing"
    }
  },
  "prometheus": {
    "environments": {
      "stage": {
        "url": "https://prometheus.stage.example.com",
        "kubeconfig": "/home/YOUR_USER/.kube/config.s",
        "namespace": "your-app-stage"
      },
      "production": {
        "url": "https://prometheus.prod.example.com",
        "kubeconfig": "/home/YOUR_USER/.kube/config.p",
        "namespace": "your-app-prod"
      }
    }
  },
  "alertmanager": {
    "environments": {
      "stage": {
        "url": "https://alertmanager.stage.example.com",
        "kubeconfig": "/home/YOUR_USER/.kube/config.s"
      },
      "production": {
        "url": "https://alertmanager.prod.example.com",
        "kubeconfig": "/home/YOUR_USER/.kube/config.p"
      }
    }
  },
  "kibana": {
    "environments": {
      "stage": {
        "url": "https://kibana.stage.example.com",
        "kubeconfig": "/home/YOUR_USER/.kube/config.s",
        "index_pattern": "your-app-logs-*",
        "namespace": "your-app-stage"
      },
      "production": {
        "url": "https://kibana.prod.example.com",
        "kubeconfig": "/home/YOUR_USER/.kube/config.p",
        "index_pattern": "your-app-logs-*",
        "namespace": "your-app-prod"
      }
    }
  },
  "clusters": {
    "stage": {
      "name": "stage-cluster",
      "description": "Staging environment cluster",
      "console_url": "https://console.stage.example.com",
      "api_url": "https://api.stage.example.com:6443",
      "elb_fqdn": "elb.stage.example.com"
    },
    "production": {
      "name": "prod-cluster",
      "description": "Production environment cluster",
      "console_url": "https://console.prod.example.com",
      "api_url": "https://api.prod.example.com:6443"
    }
  },
  "kubernetes": {
    "auth_command": "oc login",
    "environments": {
      "production": {
        "cluster": "prod",
        "kubeconfig_pattern": "/home/YOUR_USER/.kube/config.p-{namespace}",
        "namespaces": [
          "your-app-prod"
        ]
      },
      "stage": {
        "cluster": "stage",
        "kubeconfig_pattern": "/home/YOUR_USER/.kube/config.s-{namespace}",
        "namespaces": [
          "your-app-stage"
        ]
      },
      "ephemeral": {
        "cluster": "eph",
        "kubeconfig_pattern": "/home/YOUR_USER/.kube/config.e-{namespace}",
        "namespace_pattern": "ephemeral-*"
      },
      "appsre-pipelines": {
        "description": "SaaS pipelines cluster for prod/stage deployments",
        "cluster_url": "https://example.com",
        "cluster": "ap",
        "namespaces": [],
        "kubeconfig": "/home/daoneill/.kube/config.ap"
      }
    }
  },
  "saas_pipelines": {
    "cluster": "your-saas-pipelines-cluster",
    "kubeconfig": "/home/YOUR_USER/.kube/config.ap",
    "description": "SaaS deployment pipelines",
    "namespaces": {
      "my-backend": "my-backend-saas",
      "automation-analytics": "example-name",
      "pdf-generator": "example-name"
    }
  },
  "bonfire": {
    "description": "Ephemeral namespace management",
    "ephemeral_cluster": "eph",
    "kubeconfig": "/home/YOUR_USER/.kube/config.e",
    "ref_env": "insights-production",
    "default_timeout": 900,
    "optional_deps_method": "hybrid",
    "frontends": false,
    "apps": {
      "my-app": {
        "description": "My application",
        "components": {
          "main": {
            "name": "my-app-clowdapp",
            "description": "Main component"
          }
        },
        "image_base": "quay.io/your-org/my-app",
        "namespace_prefix": "ephemeral-"
      },
      "pdf-generator": {
        "description": "PDF Generator service",
        "components": {
          "main": {
            "name": "example-name",
            "description": "PDF generator component"
          }
        },
        "namespace_prefix": "example-name",
        "image_base": "quay.io/redhat-user-workloads/aap-pdf-generator-tenant/pdf-generator-main/pdf-generator-main"
      },
      "tower-analytics": {
        "requester_prefixes": {
          "main": "aap-aa-quick-",
          "billing": "aap-aa-billing-"
        },
        "image_base": "quay.io/redhat-user-workloads/aap-aa-tenant/aap-aa-main/automation-analytics-backend-main",
        "namespace_prefix": "example-name",
        "components": {
          "billing": {
            "name": "example-name",
            "description": "Billing-specific deployment"
          },
          "main": {
            "description": "Main application (non-billing)",
            "name": "example-name"
          }
        },
        "description": "Automation Analytics backend"
      }
    },
    "workflow": {
      "steps": [
        "1. Konflux builds container images on PR push",
        "2. ITS reserves ephemeral namespace",
        "3. bonfire deploy with --set-template-ref and --set-parameter",
        "4. Integration tests run",
        "5. Namespace released after tests"
      ]
    }
  },
  "agent": {
    "description": "Claude-powered agent configuration",
    "default_persona": "researcher",
    "provider": "vertex",
    "model": "claude-sonnet-4-20250514",
    "vertex_model": "claude-sonnet-4-5@20250929",
    "max_tokens": 4096,
    "system_prompt": "You are a senior software engineer. Be direct, helpful, and use tools when available."
  },
  "slack": {
    "description": "Slack integration for autonomous agent",
    "auth": {
      "xoxc_token": "xoxc-YOUR-TOKEN-HERE",
      "d_cookie": "xoxd-YOUR-COOKIE-HERE",
      "workspace_id": "YOUR_WORKSPACE_ID",
      "enterprise_id": "E030G10V24F",
      "host": "your-workspace.enterprise.slack.com"
    },
    "credentials_extraction": {
      "description": "Settings for scripts/get_slack_creds.py",
      "chrome_user_data_dir": "~/.config/google-chrome",
      "chrome_profiles": [
        "Profile 1",
        "Default",
        "Profile 2",
        "Profile 3"
      ]
    },
    "listener": {
      "poll_interval_min": 5,
      "poll_interval_max": 15,
      "watched_channels": [
        "D_YOUR_DM_CHANNEL",
        "C_YOUR_TEAM_CHANNEL"
      ],
      "alert_channels": {
        "C_STAGE_ALERTS": {
          "name": "app-stage-alerts",
          "environment": "stage",
          "namespace": "your-app-stage",
          "cluster": "stage-cluster",
          "severity": "medium",
          "auto_investigate": true
        },
        "C_PROD_ALERTS": {
          "name": "app-prod-alerts",
          "environment": "production",
          "namespace": "your-app-prod",
          "cluster": "prod-cluster",
          "severity": "high",
          "auto_investigate": true
        },
        "C01L1K82AP5": {
          "cluster": "crcp01ue1",
          "name": "example-name",
          "environment": "production",
          "severity": "high",
          "namespace": "example-name",
          "auto_investigate": false
        },
        "C01CPSKFG0P": {
          "environment": "stage",
          "cluster": "crcs02ue1",
          "namespace": "example-name",
          "auto_investigate": false,
          "name": "example-name",
          "severity": "medium"
        }
      },
      "watched_keywords": [
        "help",
        "question",
        "urgent",
        "review",
        "alert",
        "firing",
        "resolved"
      ],
      "self_user_id": "U_YOUR_USER_ID",
      "self_dm_channel": "D_YOUR_DM_CHANNEL"
    },
    "response_rules": {
      "description": "Rules for when the agent should respond",
      "direct_messages": {
        "enabled": true,
        "description": "Always respond to DMs"
      },
      "channel_mentions": {
        "enabled": true,
        "description": "Only respond in channels when mentioned",
        "trigger_mentions": [
          "@your-bot-name",
          "@your-team"
        ],
        "trigger_user_ids": [],
        "trigger_group_ids": []
      },
      "channel_keywords": {
        "enabled": false,
        "description": "Respond to messages containing these keywords",
        "keywords": [
          "urgent",
          "help needed"
        ]
      },
      "ignore_unmentioned": true,
      "blocked_channels": []
    },
    "rate_limiting": {
      "max_retries": 5,
      "base_backoff": 1.0
    },
    "user_classification": {
      "safe_list": {
        "description": "Teammates - respond freely",
        "user_ids": [],
        "user_names": [],
        "response_style": "casual",
        "auto_respond": true,
        "include_emojis": true
      },
      "concerned_list": {
        "description": "Managers - respond carefully",
        "user_ids": [],
        "user_names": [],
        "response_style": "formal",
        "auto_respond": false,
        "require_review": true,
        "include_emojis": false,
        "cc_notification": true
      },
      "unknown_list": {
        "description": "Everyone else",
        "response_style": "professional",
        "auto_respond": true,
        "include_emojis": true,
        "max_response_length": 500
      }
    },
    "response_templates": {
      "formal_greeting": "Hello {user_name},",
      "casual_greeting": "Hey {user_name}!",
      "professional_greeting": "Hi {user_name},",
      "formal_closing": "",
      "casual_closing": "",
      "professional_closing": "Let me know if you need anything else!"
    },
    "notifications": {
      "notify_on_concerned_message": true,
      "notification_channel": "",
      "notify_user_id": ""
    },
    "channels": {
      "team": {
        "id": "C_YOUR_TEAM_CHANNEL",
        "name": "your-team-channel",
        "description": "Team channel for notifications and updates",
        "purpose": "Team discussions and notifications"
      },
      "standup": {
        "id": "C_YOUR_STANDUP_CHANNEL",
        "name": "your-standup-channel",
        "description": "Daily standup summaries"
      },
      "alerts_stage": {
        "id": "C_YOUR_STAGE_ALERTS",
        "name": "your-stage-alerts",
        "description": "Stage environment alerts"
      },
      "alerts_prod": {
        "id": "C_YOUR_PROD_ALERTS",
        "name": "your-prod-alerts",
        "description": "Production environment alerts"
      }
    },
    "groups": {
      "description": "User groups for @team mentions - maps group handles to IDs and members",
      "your_team": {
        "id": "S_YOUR_TEAM_GROUP_ID",
        "handle": "your-team-handle",
        "name": "Your Team",
        "description": "Main team group for mentions",
        "members": ["your_username", "teammate1"]
      },
      "oncall": {
        "id": "S_YOUR_ONCALL_GROUP_ID",
        "handle": "your-oncall",
        "name": "On-Call Team",
        "description": "Current on-call rotation",
        "members": []
      }
    },
    "user_mapping": {
      "description": "Map GitLab usernames to Slack user IDs for DM notifications",
      "app_interface_url": "https://gitlab.cee.redhat.com/service/app-interface/-/raw/master/data/teams/{team}/users/{user}.yml",
      "users": {
        "your_username": {
          "slack_id": "U_YOUR_USER_ID",
          "name": "Your Name",
          "email": "you@example.com",
          "gitlab_username": "your_username"
        },
        "teammate1": {
          "slack_id": "U_TEAMMATE1_ID",
          "name": "Teammate One",
          "email": "teammate1@example.com",
          "gitlab_username": "teammate1"
        }
      },
      "bthomass": "U015ZKVG5T2",
      "akarve": "U018P2L0C6P",
      "daoneill": "U023CKSHHS4"
    },
    "interfaces": {
      "description": "Configuration for D-Bus interface (primary IPC mechanism)",
      "dbus": {
        "enabled": true,
        "service_name": "com.aiworkflow.BotSlack",
        "object_path": "/com/aiworkflow/BotSlack"
      }
    },
    "knowledge_cache": {
      "description": "Settings for the channel/user/group knowledge cache",
      "auto_refresh": true,
      "refresh_interval_minutes": 60,
      "cache_ttl_hours": 24
    },
    "research": {
      "description": "Rate limiting for @me research commands to avoid Slack abuse detection",
      "enabled": true,
      "max_searches_per_day": 20,
      "search_cooldown_seconds": 300,
      "max_messages_per_search": 50,
      "cache_ttl_hours": 24,
      "quiet_hours": {
        "enabled": false,
        "start": 18,
        "end": 9,
        "description": "No research during off-hours (6pm-9am)"
      },
      "knowledge_storage": {
        "path": "memory/knowledge/slack/",
        "format": "yaml",
        "auto_update_confidence": true
      }
    },
    "debug": false
  },
  "skill_hooks": {
    "description": "Event notifications during skill execution",
    "enabled": true,
    "rate_limiting": {
      "batch_window_seconds": 300,
      "max_per_author": 3,
      "description": "batch notifications per author within window"
    },
    "events": {
      "review_approved": {
        "description": "PR approved",
        "notify_author": true,
        "notify_channel": true,
        "template": "approved !{mr_id}"
      },
      "review_comment": {
        "description": "Feedback left on PR",
        "notify_author": true,
        "notify_channel": false,
        "template": "feedback on !{mr_id}: {issue_count} items"
      },
      "mr_created": {
        "description": "New MR opened",
        "notify_author": false,
        "notify_channel": true,
        "template": "new mr !{mr_id} for {issue_key}"
      },
      "pipeline_failed": {
        "description": "CI pipeline failed",
        "notify_author": true,
        "notify_channel": false,
        "template": "pipeline failed on !{mr_id}"
      },
      "release_started": {
        "description": "Release to prod initiated",
        "notify_author": false,
        "notify_channel": true,
        "template": "release started - {sha} going to prod"
      },
      "ephemeral_ready": {
        "description": "Ephemeral env deployed",
        "notify_author": true,
        "notify_channel": false,
        "template": "ephemeral env ready: {namespace}"
      },
      "ephemeral_tests_failed": {
        "description": "Ephemeral tests failed",
        "notify_author": true,
        "notify_channel": true,
        "template": "âŒ ephemeral tests failed for !{mr_id}"
      },
      "mr_merged": {
        "description": "MR merged to target",
        "notify_author": false,
        "notify_channel": true,
        "template": "merged !{mr_id} into {target_branch}"
      },
      "issue_closed": {
        "description": "Jira issue closed",
        "notify_author": false,
        "notify_channel": true,
        "template": "{issue_key} closed ({commit_count} commits)"
      },
      "rebase_completed": {
        "description": "Branch rebased successfully",
        "notify_author": true,
        "notify_channel": false,
        "template": "rebased !{mr_id} onto {base_branch}"
      },
      "rebase_conflict": {
        "description": "Rebase has conflicts",
        "notify_author": true,
        "notify_channel": false,
        "template": "âš ï¸ !{mr_id} has conflicts - manual fix needed"
      },
      "release_completed": {
        "description": "Release deployed",
        "notify_author": false,
        "notify_channel": true,
        "template": "release done - {sha} live in {environment}"
      },
      "release_mr_ready": {
        "description": "Release MR ready for review",
        "notify_author": false,
        "notify_channel": true,
        "template": "ðŸš€ release MR ready: !{mr_id}"
      },
      "batch_review_completed": {
        "description": "Batch review completed",
        "notify_author": false,
        "notify_channel": true,
        "template": "reviewed {count} MRs: {approved} approved"
      },
      "alert_critical": {
        "description": "Critical alert firing",
        "notify_author": false,
        "notify_channel": true,
        "template": "ðŸ”´ {alert_name} firing in {namespace}"
      },
      "alert_escalated": {
        "description": "Alert escalated",
        "notify_author": false,
        "notify_channel": true,
        "template": "âš ï¸ escalated {alert_name}"
      }
    },
    "channels": {
      "team": {
        "id": "C_YOUR_TEAM_CHANNEL",
        "name": "your-team-channel",
        "description": "Team channel for notifications and updates",
        "group_id": "S_YOUR_TEAM_GROUP_ID",
        "group_handle": "your-team-handle"
      },
      "standup": {
        "id": "C_YOUR_STANDUP_CHANNEL",
        "name": "your-standup-channel",
        "description": "Daily standup summaries"
      }
    },
    "user_mapping": {
      "description": "Map GitLab usernames to Slack user IDs for DM notifications",
      "app_interface_url": "https://gitlab.cee.redhat.com/service/app-interface/-/raw/master/data/teams/{team}/users/{user}.yml",
      "users": {
        "your_username": {
          "slack_id": "U_YOUR_USER_ID",
          "name": "Your Name"
        },
        "teammate1": {
          "slack_id": "U_TEAMMATE1_ID",
          "name": "Teammate One"
        }
      }
    },
    "debug": {
      "enabled": false,
      "redirect_all_to_self": false,
      "self_user_id": "U_YOUR_USER_ID",
      "description": "When enabled, all notifications go to self_user_id"
    }
  },
  "sprint": {
    "description": "Sprint Bot Autopilot configuration - defines workflow, status mappings, and bot behavior. NOTE: enabled state is in state.json",
    "auto_approve": false,
    "max_concurrent_issues": 1,
    "default_persona": "researcher",

    "working_hours": {
      "enabled": true,
      "timezone": "America/New_York",
      "start_hour": 9,
      "start_minute": 0,
      "end_hour": 17,
      "end_minute": 0,
      "weekdays_only": true,
      "randomize_start": true,
      "randomize_minutes": 15,
      "description": "External actions only during Mon-Fri 9-5 to appear human"
    },

    "safety": {
      "require_clean_worktree": true,
      "auto_stash": true,
      "skip_main_branch": true,
      "never_run_shell_commands": true,
      "description": "Safety guards to prevent data loss"
    },

    "scheduling": {
      "issue_processing": {
        "description": "Process approved issues",
        "interval_seconds": 300,
        "working_hours_only": true
      },
      "jira_refresh": {
        "description": "Refresh sprint issues from Jira",
        "interval_seconds": 1800
      },
      "review_check": {
        "description": "Check issues in Review for merge readiness",
        "interval_hours": 8
      }
    },

    "notifications": {
      "channel": "your-team-channel",
      "dm_on_clarification": true,
      "dm_on_question_response": true,
      "dm_on_mr_created": true,
      "on_work_started": {
        "enabled": false,
        "skill": "notify_team",
        "message": "Started work on {{ issue.key }}"
      },
      "on_mr_created": {
        "enabled": true,
        "skill": "notify_mr"
      },
      "on_issue_closed": {
        "enabled": true,
        "skill": "notify_team",
        "message": "Issue {{ issue.key }} completed",
        "type": "success"
      },
      "on_blocked": {
        "enabled": true,
        "skill": "notify_team",
        "message": "Issue {{ issue.key }} blocked: {{ blocker.reason }}",
        "type": "warning"
      },
      "on_mr_merged": {
        "enabled": true,
        "skill": "notify_team",
        "message": "MR merged for {{ issue.key }}",
        "type": "success"
      }
    },

    "jira": {
      "project": "PROJ",
      "comment_style": "natural",
      "never_mention_bot": true,
      "description": "Jira integration - all comments written naturally, never mention automation"
    },

    "prioritization": {
      "points_weight": 0.3,
      "priority_weight": 0.4,
      "age_weight": 0.2,
      "type_weight": 0.1,
      "description": "Weights for issue prioritization scoring"
    },

    "status_mappings": {
      "not_ready": {
        "display_name": "Not Ready",
        "icon": "âš ï¸",
        "color": "yellow",
        "description": "Need refinement before bot can work",
        "jira_statuses": ["new", "refinement", "triage", "backlog refinement"],
        "bot_can_work": false,
        "ui_order": 1
      },
      "ready": {
        "display_name": "Ready",
        "icon": "ðŸ“‹",
        "color": "blue",
        "description": "Refined and ready for bot to implement",
        "jira_statuses": ["to do", "open", "backlog", "ready", "selected for development", "ready for development"],
        "bot_can_work": true,
        "ui_order": 2,
        "show_approve_buttons": true
      },
      "in_progress": {
        "display_name": "In Progress",
        "icon": "ðŸ”„",
        "color": "blue",
        "description": "Currently being worked on",
        "jira_statuses": ["in progress", "in development", "development", "coding", "implementing"],
        "bot_can_work": false,
        "ui_order": 3
      },
      "review": {
        "display_name": "Review",
        "icon": "ðŸ‘€",
        "color": "purple",
        "description": "Awaiting code review",
        "jira_statuses": ["review", "code review", "peer review", "in review", "awaiting review", "ready for review"],
        "bot_can_work": false,
        "bot_monitors": true,
        "ui_order": 4
      },
      "done": {
        "display_name": "Done",
        "icon": "âœ…",
        "color": "green",
        "description": "Completed",
        "jira_statuses": ["done", "closed", "resolved", "released", "won't do", "won't fix", "duplicate", "release pending", "verified", "complete"],
        "bot_can_work": false,
        "ui_order": 5
      }
    },

    "jira_transitions": {
      "in_progress": "In Progress",
      "in_review": "In Review",
      "done": "Done",
      "blocked": "Blocked"
    },

    "issue_classification": {
      "spike": {
        "name": "Spike/Research",
        "description": "Research task - no code changes, document findings",
        "issue_types": ["spike", "research", "investigation", "technical task", "tech debt"],
        "keywords": ["research", "investigate", "spike", "poc", "proof of concept", "exploration", "feasibility", "analysis", "evaluate", "assess", "study"],
        "workflow": {
          "persona": "researcher",
          "creates_mr": false,
          "final_status": "done"
        }
      },
      "code_change": {
        "name": "Code Change",
        "description": "Implementation task - requires code changes and MR",
        "default": true,
        "issue_types": ["story", "task", "bug", "feature", "improvement", "sub-task", "enhancement", "defect"],
        "workflow": {
          "persona": "developer",
          "creates_mr": true,
          "final_status": "review"
        }
      }
    },

    "commit_format": {
      "pattern": "{issue_key} - {type}({scope}): {description}",
      "types": ["feat", "fix", "refactor", "docs", "test", "chore", "perf", "style"],
      "example": "PROJ-12345 - feat(api): add new endpoint for user preferences"
    },

    "blocker_detection": {
      "missing_info": {
        "name": "Missing Information",
        "description": "Required information is missing from the issue",
        "indicators": ["acceptance criteria is empty", "description is empty", "no clear requirements", "requirements unclear", "need more details"],
        "action": "ask_for_clarification"
      },
      "unclear_requirements": {
        "name": "Unclear Requirements",
        "description": "Requirements are ambiguous or conflicting",
        "indicators": ["multiple interpretations possible", "conflicting requirements", "ambiguous acceptance criteria"],
        "action": "ask_for_clarification"
      },
      "external_dependency": {
        "name": "External Dependency",
        "description": "Waiting on external team or system",
        "indicators": ["waiting for api", "blocked by another team", "dependency not ready", "waiting for design", "waiting for approval"],
        "action": "mark_blocked"
      },
      "technical_blocker": {
        "name": "Technical Blocker",
        "description": "Technical issue preventing progress",
        "indicators": ["cannot find relevant code", "tests failing unexpectedly", "environment issue", "build failing", "cannot reproduce"],
        "action": "mark_blocked"
      }
    },

    "merge_hold_patterns": [
      "don't merge", "do not merge", "dont merge", "hold off", "hold merge",
      "wait until", "don't merge until", "do not merge until", "needs more work",
      "wip", "work in progress", "not ready", "hold for", "pending", "blocked",
      "needs changes", "request changes"
    ],

    "project_detection": {
      "my-backend": {
        "display_name": "Backend",
        "gitlab_project": "your-org/my-backend",
        "keywords": ["backend", "api", "database", "migration", "endpoint"],
        "default": true
      },
      "my-frontend": {
        "display_name": "Frontend",
        "gitlab_project": "your-org/my-frontend",
        "keywords": ["frontend", "ui", "dashboard", "react", "component", "page", "view"]
      }
    },

    "state_machine": {
      "states": {
        "idle": {"description": "Not started", "icon": "â¸ï¸", "type": "initial"},
        "loading": {"description": "Loading issue from Jira", "icon": "ðŸ“¥", "type": "processing"},
        "analyzing": {"description": "Analyzing issue details", "icon": "ðŸ”", "type": "processing"},
        "classifying": {"description": "Determining work type (spike vs code)", "icon": "ðŸ·ï¸", "type": "decision"},
        "checking_actionable": {"description": "Checking if bot can work on this", "icon": "âœ…", "type": "decision"},
        "transitioning_jira": {"description": "Updating Jira status", "icon": "ðŸ”„", "type": "processing"},
        "starting_work": {"description": "Creating feature branch", "icon": "ðŸŒ¿", "type": "processing"},
        "researching": {"description": "Searching codebase for context", "icon": "ðŸ”¬", "type": "processing"},
        "building_prompt": {"description": "Preparing work instructions", "icon": "ðŸ“", "type": "processing"},
        "launching_chat": {"description": "Opening Cursor chat", "icon": "ðŸ’¬", "type": "processing"},
        "implementing": {"description": "Making code changes", "icon": "âš™ï¸", "type": "processing"},
        "documenting": {"description": "Documenting research findings", "icon": "ðŸ“„", "type": "processing"},
        "creating_mr": {"description": "Creating merge request", "icon": "ðŸ”€", "type": "processing"},
        "awaiting_review": {"description": "Waiting for code review", "icon": "ðŸ‘€", "type": "waiting"},
        "merging": {"description": "Merging approved MR", "icon": "ðŸ”—", "type": "processing"},
        "closing": {"description": "Closing Jira issue", "icon": "ðŸ", "type": "processing"},
        "blocked": {"description": "Blocked - waiting for input", "icon": "ðŸš§", "type": "waiting"},
        "completed": {"description": "Successfully completed", "icon": "âœ…", "type": "terminal"},
        "failed": {"description": "Failed with error", "icon": "âŒ", "type": "terminal"}
      },
      "transitions": {
        "idle": [{"to": "loading", "trigger": "start_processing"}],
        "loading": [{"to": "analyzing", "trigger": "issue_loaded"}, {"to": "failed", "trigger": "load_error"}],
        "analyzing": [{"to": "classifying", "trigger": "analysis_complete"}, {"to": "blocked", "trigger": "missing_info"}, {"to": "failed", "trigger": "analysis_error"}],
        "classifying": [{"to": "checking_actionable", "trigger": "classified"}, {"to": "failed", "trigger": "classification_error"}],
        "checking_actionable": [{"to": "transitioning_jira", "trigger": "is_actionable"}, {"to": "blocked", "trigger": "not_actionable"}, {"to": "failed", "trigger": "check_error"}],
        "transitioning_jira": [{"to": "starting_work", "trigger": "transitioned_code_change"}, {"to": "researching", "trigger": "transitioned_spike"}, {"to": "failed", "trigger": "transition_error"}],
        "starting_work": [{"to": "building_prompt", "trigger": "branch_created"}, {"to": "blocked", "trigger": "branch_error"}, {"to": "failed", "trigger": "start_error"}],
        "researching": [{"to": "documenting", "trigger": "research_complete_spike"}, {"to": "building_prompt", "trigger": "research_complete_code"}, {"to": "blocked", "trigger": "research_blocked"}, {"to": "failed", "trigger": "research_error"}],
        "building_prompt": [{"to": "launching_chat", "trigger": "prompt_ready_foreground"}, {"to": "implementing", "trigger": "prompt_ready_background"}, {"to": "failed", "trigger": "prompt_error"}],
        "launching_chat": [{"to": "implementing", "trigger": "chat_launched"}, {"to": "failed", "trigger": "launch_error"}],
        "implementing": [{"to": "creating_mr", "trigger": "implementation_complete"}, {"to": "blocked", "trigger": "implementation_blocked"}, {"to": "completed", "trigger": "spike_documented"}, {"to": "failed", "trigger": "implementation_error"}],
        "documenting": [{"to": "closing", "trigger": "documentation_complete"}, {"to": "blocked", "trigger": "documentation_blocked"}, {"to": "failed", "trigger": "documentation_error"}],
        "creating_mr": [{"to": "awaiting_review", "trigger": "mr_created"}, {"to": "blocked", "trigger": "mr_creation_blocked"}, {"to": "failed", "trigger": "mr_error"}],
        "awaiting_review": [{"to": "merging", "trigger": "approved_and_ready"}, {"to": "blocked", "trigger": "review_blocked"}, {"to": "implementing", "trigger": "changes_requested"}],
        "merging": [{"to": "closing", "trigger": "merged"}, {"to": "failed", "trigger": "merge_error"}],
        "closing": [{"to": "completed", "trigger": "closed"}, {"to": "failed", "trigger": "close_error"}],
        "blocked": [{"to": "analyzing", "trigger": "unblocked_retry"}, {"to": "implementing", "trigger": "unblocked_continue"}, {"to": "completed", "trigger": "manually_completed"}],
        "failed": [{"to": "idle", "trigger": "retry"}]
      }
    },

    "bot_behavior": {
      "forbidden_phrases": ["bot", "automated", "automatically", "sprint bot", "ai assistant"],
      "max_work_time_minutes": 30,
      "blocked_retry_hours": 24,
      "auto_approve_labels": ["auto-approve", "bot-approved"],
      "skip_labels": ["do-not-automate", "manual-only", "blocked"]
    }
  },
  "google_calendar": {
    "description": "Google Calendar integration for meetings. NOTE: enabled state is in state.json",
    "config_dir": "~/.config/google_calendar",
    "credentials_file": "credentials.json",
    "token_file": "token.json",
    "timezone": "Europe/Dublin",
    "meeting_window": {
      "start_hour": 15,
      "end_hour": 19,
      "description": "Meetings only allowed between 3pm and 7pm"
    },
    "default_duration_minutes": 30,
    "duplicate_check": {
      "enabled": true,
      "description": "Check for duplicate meetings before creating",
      "days_back": 30,
      "days_ahead": 30
    },
    "availability_check": {
      "enabled": true,
      "description": "Check participant availability before creating",
      "days_ahead": 5,
      "skip_weekends": true
    },
    "auto_create_for_meeting_requests": false,
    "user_emails": {
      "description": "Map usernames to email addresses",
      "your_username": "you@example.com",
      "bthomass": "user@example.com",
      "zsadeh": "user@example.com",
      "akarve": "user@example.com",
      "daoneill": "user@example.com"
    },
    "setup_instructions": [
      "1. Go to https://console.cloud.google.com/",
      "2. Create or select a project",
      "3. Enable the Google Calendar API",
      "4. Go to APIs & Services > Credentials",
      "5. Create OAuth 2.0 credentials (Desktop app)",
      "6. Download and save as ~/.config/google_calendar/credentials.json",
      "7. Run google_calendar_status() to complete OAuth"
    ]
  },
  "google_slides": {
    "description": "Google Slides integration for creating and managing presentations",
    "uses_same_oauth": true,
    "oauth_note": "Uses same token as google_calendar - Slides and Drive scopes already included",
    "required_scopes": [
      "https://www.googleapis.com/auth/presentations",
      "https://www.googleapis.com/auth/presentations.readonly",
      "https://www.googleapis.com/auth/drive.file",
      "https://www.googleapis.com/auth/drive.readonly"
    ],
    "templates": {
      "description": "Saved presentation templates for quick creation",
      "tech_talk": "",
      "project_update": "",
      "onboarding": ""
    },
    "default_layouts": {
      "title_slide": "TITLE",
      "content_slide": "TITLE_AND_BODY",
      "section_header": "SECTION_HEADER"
    },
    "export_path": "~/presentations/",
    "setup_instructions": [
      "1. Google Slides uses the same OAuth as Google Calendar",
      "2. Go to Google Cloud Console > APIs & Services > Library",
      "3. Enable 'Google Slides API' and 'Google Drive API'",
      "4. If not already authenticated, delete ~/.config/google_calendar/token.json",
      "5. Run google_slides_status() to authenticate with new scopes"
    ]
  },
  "gmail": {
    "description": "Gmail integration for /coffee morning briefing. NOTE: enabled state is in state.json",
    "uses_same_oauth": true,
    "oauth_note": "Uses same token as google_calendar - add Gmail API scopes",
    "required_scopes": [
      "https://www.googleapis.com/auth/gmail.readonly",
      "https://www.googleapis.com/auth/gmail.modify"
    ],
    "auto_archive": {
      "enabled": false,
      "description": "Auto-archive processed emails after briefing",
      "exclude_labels": [
        "IMPORTANT",
        "STARRED"
      ]
    },
    "categories": {
      "newsletters": [
        "newsletter",
        "digest",
        "weekly"
      ],
      "notifications": [
        "noreply",
        "notification",
        "automated"
      ],
      "important_domains": [
        "your-company.com"
      ]
    },
    "max_emails_to_process": 50,
    "setup_instructions": [
      "1. Gmail uses the same OAuth as Google Calendar",
      "2. Go to Google Cloud Console > APIs & Services > Library",
      "3. Enable 'Gmail API'",
      "4. Go to OAuth consent screen > Edit App > Scopes",
      "5. Add gmail.readonly and gmail.modify scopes",
      "6. Delete ~/.config/google_calendar/token.json",
      "7. Run google_calendar_status() to re-authenticate"
    ]
  },
  "linting": {
    "black": {
      "line_length": 100
    },
    "flake8": {
      "max_line_length": 100,
      "ignore": "E501,W503,E203",
      "exclude": ".git,__pycache__,migrations,venv,.venv"
    }
  },
  "testing": {
    "containers": {
      "fastapi": "your-app-api-fastapi-1",
      "postgres": "your-app-db-postgres-1"
    },
    "markers": {
      "smoke": "smoke",
      "unit": "unit",
      "integration": "integration"
    }
  },
  "timeouts": {
    "ephemeral_default": "2h",
    "alert_default": "1h",
    "standup_days": 1
  },
  "paths": {
    "kube_base": "/home/YOUR_USER/.kube",
    "container_auth": "/home/YOUR_USER/.config/containers/auth.json",
    "google_calendar_config": "/home/YOUR_USER/.config/google_calendar",
    "vpn_connect_script": "/home/YOUR_USER/src/redhatter/src/redhatter_vpn/vpn-connect",
    "workspace_roots": [
      "/home/YOUR_USER/src",
      "/home/YOUR_USER/repos",
      "/home/YOUR_USER/projects"
    ]
  },
  "schedules": {
    "description": "Cron-based task scheduling for automated workflows. NOTE: enabled state is in state.json",
    "timezone": "America/New_York",
    "execution_mode": "claude_cli",
    "default_retry": {
      "max_attempts": 2,
      "backoff": "exponential",
      "initial_delay_seconds": 30,
      "max_delay_seconds": 300,
      "retry_on": ["auth", "network"]
    },
    "jobs": [
      {
        "name": "morning_coffee",
        "description": "Morning briefing at 8:30 AM on weekdays",
        "skill": "coffee",
        "cron": "30 8 * * 1-5",
        "persona": "developer",
        "inputs": {},
        "notify": ["slack", "desktop"]
      },
      {
        "name": "morning_pr_review",
        "description": "Review open MRs at 9 AM on weekdays. IMPORTANT: Must specify a GitLab project - this skill only works with GitLab, not GitHub.",
        "skill": "review_all_prs",
        "cron": "0 9 * * 1-5",
        "persona": "developer",
        "inputs": {
          "repo_name": "automation-analytics-backend",
          "limit": 10,
          "include_my_mrs": true,
          "auto_rebase": true
        },
        "notify": ["slack"]
      },
      {
        "name": "nightly_jira_hygiene",
        "description": "Run Jira hygiene on all assigned issues at 9 PM on weekdays. Uses longer timeout for batch processing.",
        "skill": "jira_hygiene_all",
        "cron": "0 21 * * 1-5",
        "persona": "developer",
        "inputs": {
          "auto_fix": true,
          "auto_transition": true,
          "limit": 50
        },
        "timeout_seconds": 1800,
        "notify": ["slack"],
        "retry": {
          "max_attempts": 1,
          "retry_on": ["auth", "network"]
        }
      },
      {
        "name": "evening_beer",
        "description": "End of day wrap-up at 5:30 PM on weekdays",
        "skill": "beer",
        "cron": "30 17 * * 1-5",
        "persona": "developer",
        "inputs": {
          "generate_standup": true,
          "cleanup_prompts": true
        },
        "notify": ["slack"]
      },
      {
        "name": "daily_comment_monitor",
        "description": "Check Jira comments for questions at 9 AM on weekdays",
        "skill": "monitor_jira_comments",
        "cron": "0 9 * * 1-5",
        "persona": "developer",
        "inputs": {
          "jira_project": "AAP",
          "hours_lookback": 24,
          "notify_user": true
        },
        "notify": ["slack"]
      },
      {
        "name": "sprint_bot_check",
        "description": "Sprint bot check every 30 minutes during working hours",
        "skill": "sprint_autopilot",
        "cron": "*/30 9-17 * * 1-5",
        "persona": "developer",
        "inputs": {},
        "notify": [],
        "condition": "sprint.enabled && sprint.bot_enabled"
      },
      {
        "name": "daily_cve_fix",
        "description": "Check and fix CVEs daily at 10 AM on weekdays",
        "skill": "cve_fix",
        "cron": "0 10 * * 1-5",
        "persona": "developer",
        "inputs": {
          "downstream_component": "automation-analytics-backend",
          "max_cves": 1
        },
        "notify": ["slack", "memory"]
      }
    ]
  },
  "performance": {
    "description": "Performance tracking for quarterly connection / PSE competencies. Data stored in ~/.config/aa-workflow/performance/",
    "enabled": true,
    "competencies": [
      "technical_contribution",
      "technical_knowledge",
      "creativity_innovation",
      "continuous_improvement",
      "leadership",
      "collaboration",
      "mentorship",
      "speaking_publicity",
      "portfolio_impact",
      "planning_execution",
      "end_to_end_delivery",
      "opportunity_recognition"
    ],
    "daily_cap_per_competency": 15,
    "quarter_max_per_competency": 100,
    "auto_collect": {
      "enabled": true,
      "sources": ["git", "jira", "gitlab", "github"]
    }
  }
}
