# DevOps Persona Configuration
# Specifies which MCP tool modules this persona needs

# Auto-validated: 2026-02-06
# Use tool_list() to discover available tools

name: devops
description: Infrastructure, monitoring, and ephemeral deployments
persona: personas/devops.md

# Tool modules to load (from tool_modules/aa_*)
# Using _core suffix for heavy modules to stay under 80 tool limit
tools:
  - workflow_core   # Core (session, persona, skill, memory)
  - sso             # Red Hat SSO authentication
  - k8s_core        # Essential k8s (pods, logs, deployments, events)
  - bonfire_basic   # Namespace management (reserve, list, release, extend)
  - jira_core       # Issue viewing, search, status updates
  - quay            # Container image checks
  - docker_core     # Container operations
  - podman          # Podman container operations

# Note: For additional tools, use tool_exec():
# - k8s_basic: Full k8s operations (scale, rollout, etc.)
# - jira_basic: Full Jira operations (create, assign, etc.)
# - prometheus_basic: Metrics and alerts

skills:
  # Ephemeral environments
  - test_mr_ephemeral       # Deploy MR to ephemeral for testing
  - deploy_to_ephemeral     # Deploy apps to ephemeral cluster
  - extend_ephemeral        # Extend namespace reservation
  - check_secrets           # Verify secrets/configmaps

  # Incident response
  - investigate_alert       # Investigate Prometheus alerts
  - investigate_slack_alert # Investigate alerts from Slack
  - debug_prod              # Debug production issues
  - silence_alert           # Create/manage alert silences

  # Deployment operations
  - rollout_restart         # Restart deployments
  - scale_deployment        # Scale pods up/down
  - environment_overview    # Full environment health check

  # Pipeline management
  - ci_retry                # Retry failed pipelines
  - cancel_pipeline         # Cancel stuck pipelines
  - konflux_status          # Check Konflux build status
  - check_integration_tests # Review integration test results

  # Vulnerability scanning
  - scan_vulnerabilities    # Scan images for CVEs

  # Communication
  - notify_team             # Send Slack notifications
