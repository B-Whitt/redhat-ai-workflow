{
  "name": "aa-workflow",
  "displayName": "AI Workflow",
  "description": "Status bar and quick actions for AI Workflow automation",
  "version": "0.1.0",
  "publisher": "redhat-aa",
  "engines": {
    "vscode": "^1.85.0"
  },
  "categories": [
    "Other"
  ],
  "activationEvents": [
    "onStartupFinished",
    "onWebviewPanel:aaSkillFlowchart",
    "onWebviewPanel:aaCommandCenter"
  ],
  "main": "./out/extension.js",
  "contributes": {
    "viewsContainers": {
      "activitybar": [
        {
          "id": "aa_workflow",
          "title": "AI Workflow",
          "icon": "resources/workflow.svg"
        }
      ]
    },
    "views": {
      "aa_workflow": [
        {
          "id": "aaWorkflowExplorer",
          "name": "Workflow Explorer",
          "icon": "$(rocket)",
          "contextualTitle": "AI Workflow"
        },
        {
          "id": "aaWorkflowMemory",
          "name": "Memory",
          "icon": "$(database)",
          "contextualTitle": "AI Workflow Memory"
        },
        {
          "id": "aaWorkflowSlides",
          "name": "Slides",
          "icon": "$(preview)",
          "contextualTitle": "AI Workflow Slides"
        }
      ]
    },
    "viewsWelcome": [
      {
        "view": "aaWorkflowExplorer",
        "contents": "No workflow data available.\n[Refresh](command:aa-workflow.refreshTree)\n\nMake sure the memory files exist in ~/.config/aa-workflow/memory/"
      },
      {
        "view": "aaWorkflowMemory",
        "contents": "Memory system not initialized.\n[Refresh](command:aa-workflow.refreshMemory)\n\nMemory files are stored in ~/src/redhat-ai-workflow/memory/"
      },
      {
        "view": "aaWorkflowSlides",
        "contents": "Google Slides integration.\n[Refresh](command:aa-workflow.refreshSlides)\n\nUse the presentations persona to create and manage slide decks."
      }
    ],
    "commands": [
      {
        "command": "aa-workflow.openCommandCenter",
        "title": "AI Workflow: Open Command Center",
        "shortTitle": "Command Center",
        "icon": "$(dashboard)",
        "category": "AI Workflow"
      },
      {
        "command": "aa-workflow.refreshMemory",
        "title": "AI Workflow: Refresh Memory",
        "shortTitle": "Refresh Memory",
        "icon": "$(refresh)",
        "category": "AI Workflow"
      },
      {
        "command": "aa-workflow.openMemoryFile",
        "title": "AI Workflow: Open Memory File",
        "shortTitle": "Open Memory File",
        "icon": "$(go-to-file)",
        "category": "AI Workflow"
      },
      {
        "command": "aa-workflow.memoryView",
        "title": "AI Workflow: View Memory",
        "shortTitle": "View Memory",
        "icon": "$(eye)",
        "category": "AI Workflow"
      },
      {
        "command": "aa-workflow.memoryEdit",
        "title": "AI Workflow: Edit Memory",
        "shortTitle": "Edit Memory",
        "icon": "$(edit)",
        "category": "AI Workflow"
      },
      {
        "command": "aa-workflow.memoryCleanup",
        "title": "AI Workflow: Cleanup Memory",
        "shortTitle": "Cleanup Memory",
        "icon": "$(trash)",
        "category": "AI Workflow"
      },
      {
        "command": "aa-workflow.refreshSlides",
        "title": "AI Workflow: Refresh Slides",
        "shortTitle": "Refresh Slides",
        "icon": "$(refresh)",
        "category": "AI Workflow"
      },
      {
        "command": "aa-workflow.createPresentation",
        "title": "AI Workflow: Create Presentation",
        "shortTitle": "Create Presentation",
        "icon": "$(add)",
        "category": "AI Workflow"
      },
      {
        "command": "aa-workflow.listPresentations",
        "title": "AI Workflow: List Presentations",
        "shortTitle": "List Presentations",
        "icon": "$(list-flat)",
        "category": "AI Workflow"
      },
      {
        "command": "aa-workflow.checkSlidesStatus",
        "title": "AI Workflow: Check Slides Status",
        "shortTitle": "Check Slides Status",
        "icon": "$(plug)",
        "category": "AI Workflow"
      },
      {
        "command": "aa-workflow.exportPresentation",
        "title": "AI Workflow: Export Presentation to PDF",
        "shortTitle": "Export to PDF",
        "icon": "$(export)",
        "category": "AI Workflow"
      }
    ],
    "menus": {},
    "keybindings": [
      {
        "command": "aa-workflow.openCommandCenter",
        "key": "ctrl+shift+1",
        "mac": "cmd+shift+1"
      }
    ],
    "configuration": {
      "title": "AI Workflow",
      "properties": {
        "aa-workflow.refreshInterval": {
          "type": "number",
          "default": 30,
          "minimum": 5,
          "maximum": 300,
          "description": "Status refresh interval in seconds"
        },
        "aa-workflow.showSlackStatus": {
          "type": "boolean",
          "default": true,
          "description": "Show Slack daemon status in status bar"
        },
        "aa-workflow.showActiveIssue": {
          "type": "boolean",
          "default": true,
          "description": "Show active Jira issue in status bar"
        },
        "aa-workflow.showEnvironment": {
          "type": "boolean",
          "default": true,
          "description": "Show environment health in status bar"
        },
        "aa-workflow.showActiveMR": {
          "type": "boolean",
          "default": true,
          "description": "Show active MR in status bar"
        },
        "aa-workflow.showAgent": {
          "type": "boolean",
          "default": true,
          "description": "Show active agent/persona in status bar"
        },
        "aa-workflow.showNamespace": {
          "type": "boolean",
          "default": true,
          "description": "Show active ephemeral namespace in status bar (when deployed)"
        },
        "aa-workflow.defaultAgent": {
          "type": "string",
          "default": "",
          "enum": ["", "developer", "devops", "incident", "release"],
          "enumDescriptions": [
            "Core - base workflow tools",
            "Developer - coding, PRs, code review",
            "DevOps - deployments, k8s, ephemeral",
            "Incident - production issues, alerts",
            "Release - shipping, Konflux, Quay"
          ],
          "description": "Default agent to load on startup"
        },
        "aa-workflow.autoSendToChat": {
          "type": "boolean",
          "default": true,
          "description": "Automatically send commands to Cursor chat (if false, copies to clipboard instead)"
        },
        "aa-workflow.notifications.enabled": {
          "type": "boolean",
          "default": true,
          "description": "Enable toast notifications from backend services"
        },
        "aa-workflow.notifications.skill": {
          "type": "boolean",
          "default": true,
          "description": "Show notifications for skill execution events"
        },
        "aa-workflow.notifications.persona": {
          "type": "boolean",
          "default": true,
          "description": "Show notifications when personas are loaded"
        },
        "aa-workflow.notifications.session": {
          "type": "boolean",
          "default": true,
          "description": "Show notifications for session create/resume"
        },
        "aa-workflow.notifications.cron": {
          "type": "boolean",
          "default": true,
          "description": "Show notifications for cron job execution"
        },
        "aa-workflow.notifications.meet": {
          "type": "boolean",
          "default": true,
          "description": "Show notifications for meeting events"
        },
        "aa-workflow.notifications.sprint": {
          "type": "boolean",
          "default": true,
          "description": "Show notifications for sprint bot issue processing"
        },
        "aa-workflow.notifications.slack": {
          "type": "boolean",
          "default": true,
          "description": "Show notifications for Slack messages"
        },
        "aa-workflow.notifications.auto_heal": {
          "type": "boolean",
          "default": true,
          "description": "Show notifications for auto-heal events"
        },
        "aa-workflow.notifications.git": {
          "type": "boolean",
          "default": true,
          "description": "Show notifications for git operations"
        },
        "aa-workflow.notifications.jira": {
          "type": "boolean",
          "default": true,
          "description": "Show notifications for Jira operations"
        },
        "aa-workflow.notifications.gitlab": {
          "type": "boolean",
          "default": true,
          "description": "Show notifications for GitLab operations"
        },
        "aa-workflow.notifications.memory": {
          "type": "boolean",
          "default": false,
          "description": "Show notifications for memory operations (can be noisy)"
        },
        "aa-workflow.notifications.daemon": {
          "type": "boolean",
          "default": true,
          "description": "Show notifications for daemon status changes"
        }
      }
    }
  },
  "scripts": {
    "vscode:prepublish": "npm run compile",
    "compile": "tsc -p ./",
    "watch": "tsc -watch -p ./",
    "lint": "eslint src --ext ts"
  },
  "devDependencies": {
    "@types/js-yaml": "^4.0.9",
    "@types/node": "^20.0.0",
    "@types/vscode": "^1.85.0",
    "@types/ws": "^8.5.10",
    "@typescript-eslint/eslint-plugin": "^6.0.0",
    "@typescript-eslint/parser": "^6.0.0",
    "eslint": "^8.0.0",
    "typescript": "^5.0.0"
  },
  "dependencies": {
    "dbus-next": "^0.10.2",
    "js-yaml": "^4.1.0",
    "ws": "^8.16.0"
  }
}
